# BGFMDBè®©æ•°æ®çš„å¢åˆ æ”¹æŸ¥åˆ†åˆ«åªéœ€è¦ä¸€è¡Œä»£ç å³å¯,å°±æ˜¯è¿™ä¹ˆç®€å•ä»»æ€§.
## æœ€æ–°é‡å¤§æ›´æ–°:    
1.å¢åŠ ç›´æ¥å­˜å‚¨æ•°ç»„åŠŸèƒ½.    
2.å¢åŠ ç›´æ¥å­˜å‚¨å­—å…¸åŠŸèƒ½.       
## å¹¿è€Œå‘ŠçŸ¥
'ç®€çº¦æ—¶å°šå¼ºæ‚ç‰ˆ'éœ‡æ’¼å‡ºä¸–,ç‚¹å‡»æ­¤å¤„è·³è½¬-> ![BGDB_OC](https://github.com/huangzhibiao/BGDB_OC "ç®€çº¦æ—¶å°šå¼ºæ‚ç‰ˆ")       
1.BGFMDBæ˜¯å¤šåŠŸèƒ½ç‰ˆ,åŒæ—¶ä¹Ÿç”±äºBGFMDBæ˜¯åœ¨FMDBçš„åŸºç¡€ä¸Šè¿›è¡Œå°è£…,ç”±äºå¤šäº†ä¸­é—´ä¸€å±‚çš„è½¬åŒ–,æ‰€ä»¥æ€§èƒ½æœ‰æ‰€ä¸‹é™,ä¸ºäº†èƒ½æ»¡è¶³æ›´é«˜æ€§èƒ½éœ€æ±‚çš„app,æ‰€ä»¥æˆ‘ç‰¹æ„é‡æ„sqlite APIå±‚é€»è¾‘,æ‰“é€ è¿™æ¬¾â€˜ç®€çº¦æ—¶å°šå¼ºæ‚ç‰ˆâ€™å­˜å‚¨æ¡†æ¶,åä¸ºBGDB,æ­¤æ¬¾æ˜¯OCç‰ˆ,æ¬¢è¿è€é¸Ÿæ–°é¸Ÿä»¬æµ‹è¯•ä½¿ç”¨,æ‰¾å‡ºbugè·Ÿæˆ‘äº¤æµğŸ˜Š. 
## Swiftå·¥ç¨‹ä¸­ä½¿ç”¨æ–¹å¼    
ç›®å‰å¯ä»¥å­˜å‚¨Swiftå·¥ç¨‹ä¸­çš„OCç±»model,åœ¨æ¡¥æ¥æ–‡ä»¶å¯¼å…¥OCç±»modelçš„å¤´æ–‡ä»¶å³å¯, ä½†æ˜¯ä¸èƒ½è§£æå­˜å‚¨Swiftç±»model,åé¢ä¼šè¡¥ä¸ŠSwiftç±»modelè§£æéƒ¨åˆ†ğŸ˜Š.    
## å°ä¼™ä¼´ä»¬çš„ä½¿ç”¨åé¦ˆ   
![BGFMDB](http://o7pq80nc2.bkt.clouddn.com/showUse_meitu.jpg "å°ä¼™ä¼´ä»¬çš„ä½¿ç”¨åé¦ˆ")
## äº¤æµQQç¾¤:         
ä½¿ç”¨äº¤æµQQç¾¤: 572359447    
å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°ä»€ä¹ˆé—®é¢˜æˆ–æœ‰ä»€ä¹ˆç–‘é—®,è¯·åŠ ç¾¤åé¦ˆ.    
## å®Œç¾æ”¯æŒ:    
int,long,signed,float,double,NSInteger,CGFloat,BOOL,NSString,NSMutableString,NSMutableAttributedString,NSAttributedString,NSNumber,NSArray,NSMutableArray,NSDictionary,NSMutableDictionary,NSMapTable,NSHashTable,NSData,NSMutableData,UIImage,NSDate,NSURL,NSRange,CGRect,CGSize,CGPoint,è‡ªå®šä¹‰å¯¹è±¡ ç­‰çš„å­˜å‚¨.   
## å†™æœ¬åº“çš„åŠ¨æœº: åœ¨å¯¹coredataå’Œrealmåšäº†æ¢ç©¶æ€»ç»“å,å‘ç°äº†å¾ˆå¤šæœ‰ç¼ºé™·çš„åœ°æ–¹,æœ€æ˜æ˜¾çš„å°±æ˜¯ä¸‹é¢çš„åŸå› :   
### realmç¼ºé™·: 
Realmä¸æ”¯æŒé›†åˆç±»å‹,è¿™ä¸€ç‚¹ä¹Ÿæ˜¯æ¯”è¾ƒè›‹ç–¼ã€‚   
Realmæ”¯æŒä»¥ä¸‹çš„å±æ€§ç±»å‹ï¼šBOOLã€boolã€intã€NSIntegerã€longã€long longã€floatã€doubleã€NSStringã€NSDateã€NSDataä»¥åŠ è¢«ç‰¹æ®Šç±»å‹æ ‡è®°çš„NSNumberã€‚CGFloatå±æ€§çš„æ”¯æŒè¢«å–æ¶ˆäº†ï¼Œå› ä¸ºå®ƒä¸å…·å¤‡å¹³å°ç‹¬ç«‹æ€§ã€‚    
è¿™é‡Œå°±æ˜¯ä¸æ”¯æŒé›†åˆï¼Œæ¯”å¦‚è¯´NSArrayï¼ŒNSMutableArrayï¼ŒNSDictionaryï¼ŒNSMutableDictionaryï¼ŒNSSetï¼ŒNSMutableSetã€‚å¦‚æœæœåŠ¡å™¨ä¼ æ¥çš„ä¸€ä¸ªå­—å…¸ï¼Œkeyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹åº”çš„valueå°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿™æ—¶å€™å°±æƒ³å­˜å‚¨è¿™ä¸ªæ•°ç»„å°±æ¯”è¾ƒå›°éš¾äº†ã€‚   
### coredataç¼ºé™·:   
coredataè™½ç„¶é€šè¿‡Transformableå¯ä»¥å­˜å–é›†åˆç±»å‹,ä½†éœ€è¦å¼€å‘è€…å»è¿›è¡Œè½¬æ¢å¤„ç†,ä½¿ç”¨èµ·æ¥ä¸æ–¹ä¾¿ç›´è§‚,è™½ç„¶coredataæœ‰å¾ˆå¤šå¥½ç”¨çš„å°è£…åº“,åƒResKit,MMRecordç­‰,ä½†è¿™äº›åº“æ¯”è¾ƒåºå¤§,è€Œä¸”éƒ½æ˜¯è‹±æ–‡ä»‹ç»,ä¸åˆ©äºå›½å†…åˆä¸­çº§å¼€å‘çš„å¿«é€Ÿå¼€å‘ä½¿ç”¨.    
## è™½ç„¶å›½å†…ä¹Ÿå·²ç»æœ‰äº†å¯¹FMDBé¢ç›¸å¯¹è±¡å±‚çš„å°è£…,æ¯”å¦‚åƒJRDB,LKDBHelperç­‰,ä½†æ˜¯åœ¨ä½¿ç”¨æ€»ç»“åè¿˜æ˜¯å‘ç°ä¸å°‘çš„é—®é¢˜,é—®é¢˜å¦‚ä¸‹:    
JRDBå­˜å‚¨æ•°ç»„éœ€è¦ä¼ å…¥å¯¹è±¡çš„æ³›å‹,åŒæ—¶è¿˜è¦å¤å†™ä¸€äº›å‡½æ•°å’Œæ˜ å°„ï¼Œè¿™å¯¹äºåˆä¸­çº§å¼€å‘è€…æ˜¯å¾ˆä¸åˆ©çš„,çœ‹çš„å¾ˆèŒé€¼.    
LKDBHelperå¥½ä¸€ç‚¹,ä½†ä¹Ÿè¦å¤å†™ä¸å°‘çš„å‡½æ•°,è€Œä¸”LKDBHelperçš„ä½¿ç”¨demoæœ‰ç‚¹ä¹±,è¿˜æœ‰å°±æ˜¯ä¸æ”¯æŒNSMaptable,NSHashTableçš„å­˜å‚¨,LKDBHelperè¿˜æœ‰ä¸€ä¸ªè‡´å‘½çš„å¼±ç‚¹å°±æ˜¯å½“ç±»å˜é‡åç§°è·Ÿsqliteçš„å…³é”®å­—ä¸€æ ·æ—¶,ä¼šå‘ç”Ÿå†²çªé”™è¯¯ï¼  
### è€Œæœ€é‡è¦çš„æ˜¯: JRDB,LKDBHelperéƒ½ä¸æ”¯æŒåŒä¸€æ•°ç»„ä¸­å­˜å‚¨ä¸åŒç±»å‹çš„è‡ªå®šä¹‰ç±»å‹æ•°æ®,BGFMDBåˆ™å®Œç¾æ”¯æŒ,JRDB,LKDBHelperå·²ç»æˆä¸ºè¿‡å»,ç°åœ¨æ˜¯BGFMDBçš„æ—¶ä»£,ä½œè€…çš„å®£è¨€æ˜¯ï¼šâ€œè¦æŠŠBGFMDBå†™æˆä¸ä¼šå†™ä»£ç çš„äººéƒ½ä¼šç”¨çš„åº“â€ï¼Œæ¬¢è¿å¤§å®¶åé¦ˆå’Œåæ§½é—®é¢˜,éªšå¹´ä½œè€…ç­‰ç€ä½ ä»¬.
## ç»¼åˆä¸Šè¿°åŸå› å,æˆ‘å†³å®šå†™ä¸€æ¬¾é€‚åˆå›½å†…åˆä¸­çº§å¼€å‘è€…ä½¿ç”¨çš„å­˜å‚¨å°è£…åº“(BGFMDB),ä¸ç®¡æ˜¯ä»ä½¿ç”¨æ­¥éª¤è¿˜æ˜¯æ”¯æŒçš„å­˜å‚¨ç±»å‹ä¸Š,éƒ½æ¯”JRDB,LKDBç®€å•å¥½ç”¨å’Œå…¨é¢.    
## æœ¬åº“å‡ ä¹æ”¯æŒå­˜å‚¨iosæ‰€æœ‰åŸºæœ¬çš„è‡ªå¸¦æ•°æ®ç±»å‹.    
## ä½¿ç”¨ä»‹ç»(å–œæ¬¢çš„è¯åˆ«å¿˜äº†ç»™æœ¬åº“ä¸€ä¸ªStarğŸ˜Š).   
## CocoaPodsçš„æ–¹å¼.
### Podfile
```Podfile
platform :ios, '8.0'

target 'å·¥ç¨‹åç§°' do
pod â€˜BGFMDBâ€™, '~> 1.40â€™
end
```
## ç›´æ¥ä¸‹è½½åº“ä»£ç ä½¿ç”¨æ–¹å¼.
### æ·»åŠ æ‰€éœ€ä¾èµ–åº“   
libsqlite3   
### å¯¼å…¥å¤´æ–‡ä»¶   
```Objective-C
/**
åªè¦åœ¨è‡ªå·±çš„ç±»ä¸­å¯¼å…¥äº†NSObject+BGModel.hè¿™ä¸ªå¤´æ–‡ä»¶,æœ¬ç±»å°±å…·æœ‰äº†å­˜å‚¨åŠŸèƒ½.
*/
#import <Foundation/Foundation.h>
#import "NSObject+BGModel.h"
@interface stockModel : NSObject
@property(nonatomic,copy)NSString* name;
@property(nonatomic,strong)NSNumber* stockData;
+(instancetype)stockWithName:(NSString*)name stockData:(NSNumber*)stockData;
@end
```
### ä¸»é”®
```Objective-C
/**
æœ¬åº“è‡ªå¸¦çš„è‡ªåŠ¨å¢é•¿ä¸»é”®.
*/
@property(nonatomic,strong)NSNumber*_Nullable bg_id;

/**
 ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…ï¼Œç‰¹æ­¤åŠ å…¥ä»¥ä¸‹ä¸¤ä¸ªå­—æ®µå±æ€§ä¾›å¼€å‘è€…åšå‚è€ƒ.(è‡ªåŠ¨è®°å½•æ•°æ®çš„å­˜å…¥æ—¶é—´å’Œæ›´æ–°æ—¶é—´)
 */
@property(nonatomic,copy)NSString* _Nonnull bg_createTime;//æ•°æ®åˆ›å»ºæ—¶é—´(å³å­˜å…¥æ•°æ®åº“çš„æ—¶é—´)
@property(nonatomic,copy)NSString* _Nonnull bg_updateTime;//æ•°æ®æœ€åé‚£æ¬¡æ›´æ–°çš„æ—¶é—´.
```
### å”¯ä¸€çº¦æŸ
```Objective-C
/**
å¦‚æœéœ€è¦æŒ‡å®šâ€œå”¯ä¸€çº¦æŸâ€å­—æ®µ,å°±å¤å†™è¯¥å‡½æ•°,è¿™é‡ŒæŒ‡å®š name ä¸ºâ€œå”¯ä¸€çº¦æŸâ€.
*/
+(NSString *)bg_uniqueKey{
    return @"name";
}
```
### åˆå§‹åŒ–å¯¹è±¡
```Objective-C
People* p = [self people];
```
### å­˜å‚¨
```Objective-C
/**
åŒæ­¥å­˜å‚¨.
*/
[p bg_save];

/**
å¼‚æ­¥å­˜å‚¨.
*/
[p bg_saveAsync:^(BOOL isSuccess) {
       //you code
   }];
   
/**
è¦†ç›–æ‰åŸæ¥Peopleç±»çš„æ‰€æœ‰æ•°æ®,åªå­˜å‚¨å½“å‰å¯¹è±¡çš„æ•°æ®.
*/
[p bg_cover];

/**
 å¿½ç•¥å­˜å‚¨ï¼Œå³å¿½ç•¥æ‰ user,info,students è¿™ä¸‰ä¸ªå˜é‡ä¸å­˜å‚¨.
 */
[p bg_saveIgnoredKeys:@[@"user",@"info",@"students"]];

/**
 åŒæ­¥å­˜å‚¨æˆ–æ›´æ–°.
 å½“è‡ªå®šä¹‰â€œå”¯ä¸€çº¦æŸâ€æ—¶å¯ä»¥ä½¿ç”¨æ­¤æ¥å£å­˜å‚¨æ›´æ–¹ä¾¿,å½“"å”¯ä¸€çº¦æŸ"çš„æ•°æ®å­˜åœ¨æ—¶ï¼Œæ­¤æ¥å£ä¼šæ›´æ–°æ—§æ•°æ®,æ²¡æœ‰åˆ™å­˜å‚¨æ–°æ•°æ®.
 */
[p bg_saveOrUpdate];
```
### æŸ¥è¯¢
```Objective-C
/**
åŒæ­¥æŸ¥è¯¢æ‰€æœ‰Peopleçš„æ•°æ®.
*/
NSArray* finfAlls = [People bg_findAll];

/**
å¼‚æ­¥æŸ¥è¯¢æ‰€æœ‰Peopleçš„æ•°æ®.
*/
[People bg_findAllAsync:^(NSArray * _Nullable array) {
        // you code
    }];
    
/**
å¼‚æ­¥æŸ¥è¯¢Peopleç±»çš„æ•°æ®,æŸ¥è¯¢é™åˆ¶3æ¡,é€šè¿‡ageé™åºæ’åˆ—.
*/
[People bg_findAllAsyncWithLimit:3 orderBy:@"age" desc:YES complete:^(NSArray * _Nullable array) {
    for(People* p in array){
      // you code
    }
}];

/**
å¼‚æ­¥æŸ¥è¯¢Peopleç±»çš„æ•°æ®,æŸ¥è¯¢èŒƒå›´ä»ç¬¬10å¤„å¼€å§‹çš„åé¢5æ¡,ä¸æ’åº.
*/
[People bg_findAllAsyncWithRange:NSMakeRange(10,5) orderBy:nil desc:NO complete:^(NSArray * _Nullable array) {
     for(People* p in array){
        // you code
     }
}];

/**
æŸ¥è¯¢nameç­‰äºçˆ¸çˆ¸å’Œageç­‰äº45,æˆ–è€…nameç­‰äºé©¬å“¥çš„æ•°æ®.  æ­¤æ¥å£æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…è‡ªç”±æ‰©å±•æ›´æ·±å±‚æ¬¡çš„æŸ¥è¯¢æ¡ä»¶é€»è¾‘.
*/
NSArray* arrayConds1 = [People bg_findFormatSqlConditions:@"where %@=%@ and %@=%@ or %@=%@",bg_sqlKey(@"age"),bg_sqlValue(@(45)),bg_sqlKey(@"name"),bg_sqlValue(@"çˆ¸çˆ¸"),bg_sqlKey(@"name"),bg_sqlValue(@"é©¬å“¥")];

/**
æŸ¥è¯¢user.student.human.bodyç­‰äºå°èŠ³ å’Œ user1.nameä¸­åŒ…å«fuckè¿™ä¸ªå­—ç¬¦ä¸²çš„æ•°æ®.
*/
NSArray* arrayConds2 = [People bg_findFormatSqlConditions:@"where %@",bg_keyPathValues(@[@"user.student.human.body",bg_equal,@"å°èŠ³",@"user1.name",bg_contains,@"fuck"])];

/**
æŸ¥è¯¢user.student.human.bodyç­‰äºå°èŠ³,user1.nameä¸­åŒ…å«fuckè¿™ä¸ªå­—ç¬¦ä¸² å’Œ nameç­‰äºçˆ¸çˆ¸çš„æ•°æ®.
*/
NSArray* arrayConds3 = [People bg_findFormatSqlConditions:@"where %@ and %@=%@",bg_keyPathValues(@[@"user.student.human.body",bg_equal,@"å°èŠ³",@"user1.name",bg_contains,@"fuck"]),bg_sqlKey(@"name"),bg_sqlValue(@"çˆ¸çˆ¸")];
```
### æ›´æ–°
```Objective-C
/**
å°†Peopleç±»æ•°æ®ä¸­name=@"æ ‡å“¥"ï¼Œnum=220.88çš„æ•°æ®æ›´æ–°ä¸ºå½“å‰å¯¹è±¡çš„æ•°æ®.
*/
[p bg_updateWhere:@[@"name",@"=",@"æ ‡å“¥",@"num",@"=",@(220.88)]];

/**
å°†Peopleç±»ä¸­nameç­‰äº"é©¬äº‘çˆ¸çˆ¸"çš„æ•°æ®çš„nameæ›´æ–°ä¸º"é©¬åŒ–è…¾",æ­¤æ¥å£æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…è‡ªç”±æ‰©å±•æ›´æ·±å±‚æ¬¡çš„æ›´æ–°æ¡ä»¶é€»è¾‘.
*/
[People bg_updateFormatSqlConditions:@"set %@=%@ where %@=%@",bg_sqlKey(@"name"),bg_sqlValue(@"é©¬åŒ–è…¾"),bg_sqlKey(@"name"),bg_sqlValue(@"é©¬äº‘çˆ¸çˆ¸")];

/**
å°†Peopleç±»æ•°æ®ä¸­nameç­‰äº"é©¬åŒ–è…¾"çš„æ•°æ®æ›´æ–°ä¸ºå½“å‰å¯¹è±¡çš„æ•°æ®.
*/
[p bg_updateFormatSqlConditions:@"where %@=%@",bg_sqlKey(@"name"),bg_sqlValue(@"çˆ¸çˆ¸")];
```
### åˆ é™¤
```Objective-C
/**
åŒæ­¥åˆ é™¤Peopleç±»æ•°æ®ä¸­name=@"æ ‡å“¥"ï¼Œnum=220.88çš„æ•°æ®.
*/
[People bg_deleteWhere:@[@"name",@"=",@"æ ‡å“¥",@"num",@"=",@(220.88)]];

/**
å¼‚æ­¥åˆ é™¤Peopleç±»æ•°æ®ä¸­name=@"æ ‡å“¥"ï¼Œnum=220.88çš„æ•°æ®.
*/
[People bg_deleteAsync:@[@"name",@"=",@"æ ‡å“¥",@"num",@"=",@(220.88)] complete:^(BOOL isSuccess) {
      // you code  
}];

/**
æ¸…é™¤Peopleè¡¨çš„æ‰€æœ‰æ•°æ®.
*/
[People bg_clear];

/**
åˆ é™¤Peopleçš„æ•°æ®åº“è¡¨.
*/
[People bg_drop];

/**
åˆ é™¤Peopleç±»ä¸­nameç­‰äº"ç¾å›½é˜Ÿé•¿"çš„æ•°æ®,æ­¤æ¥å£æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…è‡ªç”±æ‰©å±•æ›´æ·±å±‚æ¬¡çš„åˆ é™¤æ¡ä»¶é€»è¾‘.
*/
[People bg_deleteFormatSqlConditions:@"where %@=%@",bg_sqlKey(@"name"),bg_sqlValue(@"ç¾å›½é˜Ÿé•¿")];

/**
åˆ é™¤Peopleç±»ä¸­user.student.human.bodyç­‰äº"å°èŠ³"çš„æ•°æ®
*/
[People bg_deleteFormatSqlConditions:@"where %@",bg_keyPathValues(@[@"user.student.human.body",bg_equal,@"å°èŠ³"])];

/**
åˆ é™¤Peopleç±»ä¸­nameç­‰äº"ç¾å›½é˜Ÿé•¿" å’Œ user.student.human.bodyç­‰äº"å°èŠ³"çš„æ•°æ®
*/
[People bg_deleteFormatSqlConditions:@"where %@=%@ and %@",bg_sqlKey(@"name"),bg_sqlValue(@"ç¾å›½é˜Ÿé•¿"),bg_keyPathValues(@[@"user.student.human.body",bg_equal,@"å°èŠ³"])];
```
### keyPath(ç±»åµŒå¥—çš„æ—¶å€™ä½¿ç”¨)   
```Objective-C
@interface Human : NSObject
@property(nonatomic,copy)NSString* sex;
@end

@interface Student : NSObject
@property(nonatomic,strong)Human* human;
@end

@interface User : NSObject
@property(nonatomic,strong)Student* student;
@end

@interface People : NSObject
@property(nonatomic,strong)User* user1;
@property(nonatomic,strong)User* user2;
@end

/**
æŸ¥è¯¢Peopleç±»ä¸­user2.student.human.sexä¸­ç­‰äº@â€œå¥³â€çš„æ•°æ®.
*/
[People bg_findForKeyPathAndValues:@[@"user2.student.human.sex",bg_equal,@"å¥³"]];

/**
å°†Peopleç±»ä¸­user1.nameåŒ…å«@â€œå°æ˜â€å­—ç¬¦ä¸² å’Œ user2.student.human.sexä¸­ç­‰äº@â€œå¥³â€çš„æ•°æ® æ›´æ–°ä¸ºå½“å‰å¯¹è±¡çš„æ•°æ®.
*/
[p bg_updateForKeyPathAndValues:@[@"user1.name",bg_contains,@"å°æ˜",@"user2.student.human.sex",bg_equal,@"å¥³"]];
 
/**
åˆ é™¤Peopleç±»ä¸­user1.nameåŒ…å«@â€œå°æ˜â€å­—ç¬¦ä¸²çš„æ•°æ®.
*/
[People bg_deleteForKeyPathAndValues:@[@"user1.name",bg_contains,@"å°æ˜"]];
```
### è·å–ç±»æ•°æ®åº“ç‰ˆæœ¬
```Objective-C
/**
 è·å–è¯¥ç±»çš„æ•°æ®åº“ç‰ˆæœ¬å·;
*/
NSInteger version = [People bg_version];
```
### ç±»æ•°æ®åº“ç‰ˆæœ¬æ‰‹åŠ¨å‡çº§('å”¯ä¸€çº¦æŸ'å‘ç”Ÿæ”¹å˜æ—¶è°ƒç”¨)
```Objective-C
//æ³¨: ç‰ˆæœ¬å·ä»1å¼€å§‹,ä¾æ¬¡å¾€åé€’å¢,æœ¬æ¬¡æ›´æ–°ç‰ˆæœ¬å·ä¸å¾— ä½äºæˆ–ç­‰äº ä¸Šæ¬¡çš„ç‰ˆæœ¬å·,å¦åˆ™ä¸ä¼šæ›´æ–°.
/**
 å¦‚æœç±»'å”¯ä¸€çº¦æŸ'å‘ç”Ÿæ”¹å˜,åˆ™è°ƒç”¨æ­¤APIåˆ·æ–°è¯¥ç±»æ•°æ®åº“,ä¸éœ€è¦æ–°æ—§æ˜ å°„çš„æƒ…å†µä¸‹ä½¿ç”¨æ­¤API.
*/
[People bg_updateVersion:version];

/**
å¦‚æœç±»'å”¯ä¸€çº¦æŸ'å‘ç”Ÿæ”¹å˜,åˆ™è°ƒç”¨æ­¤APIåˆ·æ–°è¯¥ç±»æ•°æ®åº“.data2æ˜¯æ–°å˜é‡å,dataæ˜¯æ—§å˜é‡å,å³å°†æ—§çš„å€¼æ˜ å°„åˆ°æ–°çš„å˜é‡å,å…¶ä»–ä¸å˜çš„å˜é‡åä¼šè‡ªåŠ¨å¤åˆ¶,åªç®¡å†™å‡ºå˜åŒ–çš„å¯¹åº”æ˜ å°„å³å¯.
*/
[People bg_updateVersion:version keyDict:@{@"data2":@"data"}];
```
### äº‹åŠ¡æ“ä½œ
```Objective-C
/**
äº‹åŠ¡æ“ä½œ,è¿”å›YESæäº¤äº‹åŠ¡,è¿”å›NOåˆ™å›æ»šäº‹åŠ¡.
*/
[NSObject bg_inTransaction:^BOOL{
       [p save];//å­˜å‚¨
       [p save];
       return NO;
}];
```
### å¿«é€ŸæŸ¥è¯¢æ•°æ®æ¡æ•°
```Objective-C
/**
æŸ¥è¯¢Peopleç±»ä¸­æ‰€æœ‰æ•°æ®çš„æ¡æ•°.
*/
NSInteger count = [People bg_countWhere:nil]

/**
æŸ¥è¯¢Peopleç±»ä¸­age>=21,name=@"é©¬å“¥"çš„æ•°æ®æ¡æ•°.
*/
NSInteger count = [People bg_countWhere:@[@"age",@">=",@(21),@"name",@"=",@"é©¬å“¥"]];

/**
æŸ¥è¯¢Peopleç±»ä¸­nameç­‰äº"ç¾å›½é˜Ÿé•¿"çš„æ•°æ®æ¡æ•°,æ­¤æ¥å£æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…è‡ªç”±æ‰©å±•æ›´æ·±å±‚æ¬¡çš„æŸ¥è¯¢æ¡ä»¶é€»è¾‘.
*/
NSInteger count = [People bg_countFormatSqlConditions:@"where %@=%@",bg_sqlKey(@"name"),bg_sqlValue(@"ç¾å›½é˜Ÿé•¿")];

/**
æŸ¥è¯¢Peopleç±»ä¸­user.student.human.bodyç­‰äº"å°èŠ³"çš„æ•°æ®æ¡æ•°.
 */
NSInteger count = [People bg_countFormatSqlConditions:@"where %@",bg_keyPathValues(@[@"user.student.human.body",bg_equal,@"å°èŠ³"])];

/**
æŸ¥è¯¢Peopleç±»ä¸­nameç­‰äº"ç¾å›½é˜Ÿé•¿" å’Œ user.student.human.bodyç­‰äº"å°èŠ³"çš„æ•°æ®æ¡æ•°.
*/
NSInteger count = [People bg_countFormatSqlConditions:@"where %@=%@ and %@",bg_sqlKey(@"name"),bg_sqlValue(@"ç¾å›½é˜Ÿé•¿"),bg_keyPathValues(@[@"user.student.human.body",bg_equal,@"å°èŠ³"])];
```
### ç±»æ•°æ®ä¹‹é—´çš„æ‹·è´
```Objective-C
/**
 å°†Peopleçš„nameæ‹·è´ç»™Mançš„Man_nameï¼Œå…¶ä»–åŒç†.
 */
 [People bg_copyToClass:[Man class] keyDict:@{@"name":@"Man_name",
                                           @"num":@"Man_num",
                                           @"age":@"Man_age",
                                           @"image":@"image"}
                                           append:NO];
```
### ç›´æ¥å­˜å–æ•°ç»„
```Objective-C
NSMutableArray* testA = [NSMutableArray array];
    [testA addObject:@"æˆ‘æ˜¯"];
    [testA addObject:@(10)];
    [testA addObject:@(9.999)];
    [testA addObject:@{@"key":@"value"}];
    /**
     å­˜å‚¨æ ‡è¯†åä¸ºtestAçš„æ•°ç»„.
     */
    [testA bg_saveArrayWithName:@"testA"];
    
    /**
     å¾€æ ‡è¯†åä¸º@"testA"çš„æ•°ç»„ä¸­æ·»åŠ å…ƒç´ .
     */
    [NSArray bg_addObjectWithName:@"testA" object:@[@(1),@"å“ˆå“ˆ"]];
    
    /**
     åˆ é™¤æ ‡è¯†åä¸ºtestAçš„æ•°ç»„æŸä¸ªä½ç½®ä¸Šçš„å…ƒç´ .
     */
    [NSArray bg_deleteObjectWithName:@"testA" Index:3];
    
    /**
     æŸ¥è¯¢æ ‡è¯†åä¸ºtestAçš„æ•°ç»„å…¨éƒ¨å…ƒç´ .
     */
    NSArray* testResult = [NSArray bg_arrayWithName:@"testA"];
    
    /**
     è·å–æ ‡è¯†åä¸ºtestAçš„æ•°ç»„æŸä¸ªä½ç½®ä¸Šçš„å…ƒç´ .
     */
    id arrObject = [NSArray bg_objectWithName:@"testA" Index:3];
    
    /**
     æ¸…é™¤æ ‡è¯†åä¸ºtestAçš„æ•°ç»„æ‰€æœ‰å…ƒç´ .
     */
    [NSArray bg_clearArrayWithName:@"testA"];
```
### ç›´æ¥å­˜å–å­—å…¸
```Objective-C
NSDictionary* dict = @{@"one":@(1),@"key":@"value",@"array":@[@(1.2),@"å“ˆå“ˆ"]};
    /**
     å­˜å‚¨å­—å…¸.
     */
    [dict bg_saveDictionary];
    
    /**
     æ·»åŠ å­—å…¸å…ƒç´ .
     */
    [NSDictionary bg_setValue:@"æ ‡å“¥" forKey:@"name"];
    
    /**
     è·å–æŸä¸ªå­—å…¸å…ƒç´ .
     */
    id num = [NSDictionary bg_valueForKey:@"one"];
    
    /**
     ç§»é™¤å­—å…¸æŸä¸ªå…ƒç´ .
     */
    [NSDictionary bg_removeValueForKey:@"key"];
    
    /**
     éå†å­—å…¸å…ƒç´ .
     */
    [NSDictionary bg_enumerateKeysAndObjectsUsingBlock:^(NSString * _Nonnull key, id  _Nonnull value, BOOL *stop) {
        NSLog(@"key = %@ , value = %@",key,value);
    }];
    
    /**
     æ¸…ç©ºå­—å…¸.
     */
    [NSDictionary bg_clearDictionary];
```
### æ³¨å†Œæ•°æ®å˜åŒ–ç›‘å¬
```Objective-C
/**
æ³¨å†ŒstockModelç±»æ•°æ®å˜åŒ–ç›‘å¬.  
*/
[stockModel bg_registerChangeWithName:@"stockModel" block:^(changeState result){  
        switch (result) {  
            case Insert:  
                NSLog(@"æœ‰æ•°æ®æ’å…¥");  
                break;  
            case Update:  
                NSLog(@"æœ‰æ•°æ®æ›´æ–°");  
                break;  
            case Delete:  
                NSLog(@"æœ‰æ•°æ®åˆ åˆ é™¤");  
                break;  
            case Drop:  
                NSLog(@"æœ‰è¡¨åˆ é™¤");  
                break;  
            default:  
                break;  
        }  
    }];  
```
### ç§»é™¤æ•°æ®ç›‘å¬
```Objective-C
/**
ç§»é™¤stockModelç±»æ•°æ®å˜åŒ–çš„ç›‘å¬.  
*/
[stockModel bg_removeChangeWithName:@"stockModel"];
```
### å­—å…¸è½¬æ¨¡å‹
```Objective-C
NSDictionary* dictAni = [self getDogDict];
/**
ä¸€ä»£ç æå®šå­—å…¸è½¬æ¨¡å‹.
*/
Dog* dog = [Dog bg_objectWithKeyValues:dictAni];

NSDictionary* dictMy = [self getMyDict];
/**
ä¸€ä»£ç æå®šå­—å…¸è½¬æ¨¡å‹.
*/
My* my = [My bg_objectWithDictionary:dictMy];
```
### æ¨¡å‹è½¬å­—å…¸
```Objective-C
/**
ä¸€å¥ä»£ç æå®šæ¨¡å‹è½¬å­—å…¸.
*/
 NSDictionary* dictBodyAll = [body bg_keyValuesIgnoredKeys:nil];
 
/**
å¿½ç•¥æ‰handè¿™ä¸ªå˜é‡ä¸è½¬.
*/
NSDictionary* dictBody = [body bg_keyValuesIgnoredKeys:@[@"hand"]];
```
### å¦‚æœæ¨¡å‹ä¸­çš„æ•°ç»„å˜é‡å­˜å‚¨çš„æ˜¯è‡ªå®šä¹‰ç±»,åˆ™éœ€è¦å®ç°ä¸‹é¢çš„è¿™ä¸ªå‡½æ•°:
```Objective-C
/**
å¦‚æœæ¨¡å‹ä¸­æœ‰æ•°ç»„ä¸”å­˜æ”¾çš„æ˜¯è‡ªå®šä¹‰çš„ç±»(NSStringç­‰ç³»ç»Ÿè‡ªå¸¦çš„ç±»å‹å°±ä¸å¿…è¦äº†),é‚£å°±å®ç°è¯¥å‡½æ•°,keyæ˜¯æ•°ç»„åç§°,valueæ˜¯è‡ªå®šçš„ç±»Class,ç”¨æ³•è·ŸMJExtensionä¸€æ ·.
(â€˜å­—å…¸è½¬æ¨¡å‹â€™ æˆ– â€™æ¨¡å‹è½¬å­—å…¸â€˜ éƒ½éœ€è¦å®ç°è¯¥å‡½æ•°)
*/
+(NSDictionary *)bg_objectClassInArray{
    return @{@"dogs":[Dog class],@"bodys":[Body class]};
}

/**
 å¦‚æœæ¨¡å‹ä¸­æœ‰è‡ªå®šä¹‰ç±»å˜é‡,åˆ™å®ç°è¯¥å‡½æ•°å¯¹åº”è¿›è¡Œé›†åˆåˆ°æ¨¡å‹çš„è½¬æ¢.
 å°†jsonæ•°æ®ä¸­bodyè¿™ä¸ªkeyå¯¹åº”çš„å€¼è½¬åŒ–ä¸ºBodyç±»å˜é‡bodyå¯¹è±¡.
 */
+(NSDictionary *)bg_objectClassForCustom{
    return @{@"body":[Body class]};
}
```
### åŸºæœ¬çš„ä½¿ç”¨
```Objective-C
stockModel* shenStock = [stockModel stockWithName:@"æ·±å¸‚" stockData:_shenData];   
[shenStock bg_save];//ä¸€å¥ä»£ç æå®šå­˜å‚¨.   
[shenStock bg_updateWhere:@[@"name",@"=",@"æ·±å¸‚"]];//ä¸€å¥ä»£ç æå®šæ›´æ–°.   
NSArray* array = [stockModel bg_findAll];//ä¸€å¥ä»£ç æå®šæŸ¥è¯¢.   
[stockModel bg_deleteWhere:@[@"name",@"=",@"æ·±å¸‚"]];//ä¸€å¥ä»£ç æå®šåˆ .  
//æ³¨å†Œæ•°æ®å˜åŒ–ç›‘å¬.  
[stockModel bg_registerChangeWithName:@"stockModel" block:^(changeState result){  
        switch (result) {  
            case Insert:  
                NSLog(@"æœ‰æ•°æ®æ’å…¥");  
                break;  
            case Update:  
                NSLog(@"æœ‰æ•°æ®æ›´æ–°");  
                break;  
            case Delete:  
                NSLog(@"æœ‰æ•°æ®åˆ åˆ é™¤");  
                break;  
            case Drop:  
                NSLog(@"æœ‰è¡¨åˆ é™¤");  
                break;  
            default:  
                break;  
        }  
    }];  
  //ç§»é™¤æ•°æ®å˜åŒ–ç›‘å¬.  
 [stockModel bg_removeChangeWithName:@"stockModel"]; 
 
 //æ›´å¤šåŠŸèƒ½è¯·ä¸‹è½½demoä½¿ç”¨äº†è§£.
```   
### æ›´å¤šåŠŸèƒ½è¯·ä¸‹è½½demoè¿è¡Œäº†è§£ä½¿ç”¨.   
