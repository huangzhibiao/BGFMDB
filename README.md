# BGFMDB
# é‡æ–°å°è£…æŠ½å–äº†FMDB,ç›´æ¥å­˜å‚¨å’Œè¯»å–å¯¹è±¡,ä½¿ç”¨èµ·æ¥è¶…çº§æ–¹ä¾¿å¿«æ·.
##  åœ¨è‡ªå·±å¼€å‘ä¸­ï¼Œæ¯æ¬¡ç”¨åˆ°æ•°æ®åº“éƒ½ä¼šçº ç»“æ˜¯ä½¿ç”¨CoreDataè¿˜æ˜¯FMDBã€‚ CoreDataè™½ç„¶Apiç®€å•ï¼Œä½†æ˜¯è°ƒç”¨æ ˆéå¸¸å¤æ‚ï¼Œè¦åˆå§‹åŒ–ä¸€ä¸ªContextéœ€è¦è‡³å°‘20è¡Œä»£ç ,
## æ˜¾ç„¶ï¼Œå¯¹äºè¿™ç§è¿™ä¹ˆæ¶å¿ƒçš„æƒ…å†µï¼Œæˆ‘ä»¬çš„å¤§Githubå¿…é¡»æœ‰äººä¼šè·³å‡ºæ¥è§£å†³è¿™ç§é—®é¢˜ã€‚äºæ˜¯å°±å‡ºç°äº†MagicRecord,MMRecod,RestKitç­‰CoreDataçš„å°è£…åº“ã€‚ä¸€å¼€
## å§‹é‡åˆ°è¿™äº›åº“çš„æ—¶å€™ï¼Œå¥½ç”¨åˆ°å‡ ä¹è®©æˆ‘æƒ³æŠŠæ‰€æœ‰é¡¹ç›®çš„æ•°æ®åº“éƒ½æ¢æˆCoreDataäº†ã€‚ä¸¤å¥è¯è§£å†³CoreDataè°ƒç”¨æ ˆçš„åˆå§‹åŒ–ï¼Œä¸€å¥è¯å®Œæˆæ•°æ®åº“ç‰ˆæœ¬å‡çº§å’Œè‡ªåŠ¨æ•°æ®åˆ
## å¹¶æ›´æ–°ï¼ˆè™½ç„¶æˆ‘ä»¬å¾ˆå°‘ç”¨åˆ°.ç„¶è€Œè¿™å¹¶ä¸èƒ½è§£å†³ä¸€ä¸ªæ ¹æœ¬æ€§çš„é—®é¢˜ï¼ŒCoreDataä¸­çš„æ¯ä¸ªObjectéƒ½è¦å’Œä¸€ä¸ªcontextè¿›è¡Œç»‘å®šï¼Œå¯¼è‡´æˆ‘ä»¬å¾ˆå¤šä¸šåŠ¡éœ€æ±‚éœ€è¦åˆ›å»ºè‡ªå·±
## çš„ç§æœ‰contextï¼Œç„¶åå†éœ€è¦æ›´æ–°çš„æ—¶å€™ä¿å­˜åˆ°ä¸»contextä¸­ã€‚è¿™åˆå¯¼è‡´äº†æˆ‘ä»¬åœ¨controllerä¸­æˆ–è€…åœ¨è‡ªå·±çš„ä¸šåŠ¡ç±»ä¸­ç»´æŠ¤å¤šä¸€ä¸ªç§æœ‰contextå±æ€§ã€‚åŒæ—¶è¿™äº›åº“
## éƒ½æ˜¯å¤–å›½äººå†™çš„,å¾ˆå¤šä¸­åˆçº§å¼€å‘è€…å…¶å®çœ‹ä¸å¤ªæ‡‚è‹±æ–‡(æˆ–æ˜¯æ‡’å¾—çœ‹),ç‰¹åˆ«æ˜¯é‚£äº›ç‰¹åˆ«åºå¤§çš„åº“,è€Œä¸”æœ‰æ—¶å€™å…¶å®åªæƒ³ç”¨å…¶ä¸­ä¸€å°éƒ¨åˆ†çš„å­˜å‚¨åŠŸèƒ½,æ‰€ä»¥ï¼Œæœ€å
## æˆ‘é€‰æ‹©äº†FMDBè¿›è¡Œå°è£…ã€‚
#  ä»¥ä¸Šçš„è¯æ˜¯JRDBçš„ä½œè€…è¯´çš„(æœ€åé‚£å‡ å¥æ˜¯æˆ‘åŠ çš„ğŸ˜Š),ä¹Ÿå°±æ˜¯ç½‘ä¸Šæ¯”è¾ƒæµè¡Œçš„é¢å‘å¯¹è±¡å°è£…çš„FMDB,ä½†æ˜¯JRDBä¹Ÿæœ‰ç¼ºç‚¹,ä½¿ç”¨ä¹Ÿæœ‰ç‚¹éº»çƒ¦,è¦å¯¹ç±»æ³¨å†Œç­‰ç­‰ä¹±ä¸ƒå…«ç³Ÿ
# çš„,è®©åˆçº§å¼€å‘è€…å¾ˆæ‡µé€¼,è€Œä¸”JRDBçš„å¯¹è±¡çº§åˆ«Apiæ²¡æœ‰æ¡ä»¶æŸ¥æ‰¾,ç±»ä¸ç±»æ•°æ®ä¹‹é—´çš„æ‹·è´ç­‰,æ‰€ä»¥ç»¼åˆä¸Šè¿°,æˆ‘å†³å®šè‡ªå·±è¿›è¡Œå°è£…ä¸€ä¸ªå‚»ç“œçº§å­˜å‚¨åº“,å¼€å‘è€…ä¸éœ€è¦è¿‡å¤š
# çš„äº†è§£,åªè¦å¯¹è±¡ç»§æ‰¿è‡ªæˆ‘çš„BGManageObjectåŸºç±»å°±æ‹¥æœ‰å­˜å‚¨åŠŸèƒ½äº†,ä¸€å¥APIè°ƒç”¨æå®š,ç»å¯¹å‚»ç“œçº§åˆ«åº”ç”¨,å½“ç„¶è¿™ä¸æ˜¯éª‚ä½¿ç”¨è€…å‚»ç“œå“ˆğŸ˜Š,æ˜¯å¼ºè°ƒä½¿ç”¨ç‰¹åˆ«æ–¹ä¾¿,
# ä¸€çœ‹å°±æ‡‚,é©¬é©¬ä¸Šæ‰‹ä½¿ç”¨,åºŸè¯ä¸å¤šè¯´,çœ‹ä½¿ç”¨Apiä»‹ç».
### /**  
### æç¤º:æ‰€æœ‰æ–°å»ºçš„ç±»è¦ç»§æ‰¿è‡ªè¯¥ç±».(æ‰èƒ½ä½¿ç”¨è¯¥åº“ç›´æ¥å­˜å‚¨æ•°æ®)      
### 1.é›†åˆç±»å‹ç›®å‰åªæ”¯æŒæ•°ç»„(NSArrayåŠå…¶å­ç±»)å’Œå­—å…¸(NSDictionaryåŠå…¶å­ç±»)ï¼Œ     
### 2.æ•°ç»„,å­—å…¸,ç±»å˜é‡ä¸­çš„å…ƒç´ ç±»å‹ç›®å‰åªæ”¯æŒç³»ç»Ÿè‡ªå¸¦çš„åŸºæœ¬ç±»å‹(int,long,NSString,NSNumberç­‰),NSDataæš‚ä¸æ”¯æŒ.     
### 3.å¯¹äºä¸‹é¢çš„æ¡ä»¶å‚æ•°where,ç›®å‰ä¸æ”¯æŒkeypathçš„key,å³åµŒå¥—çš„è‡ªå®šä¹‰ç±», å½¢å¼å¦‚@[@"user.name",@"=",@"ä¹ å¤§å¤§"]æš‚ä¸æ”¯æŒ.     
### 4.keypathæŸ¥è¯¢æœ‰ä¸“é—¨çš„æ¥å£: findAsync:forKeyPath:value:complete:     
### */      
//åŒæ­¥ï¼šçº¿ç¨‹é˜»å¡ï¼›å¼‚æ­¥ï¼šçº¿ç¨‹éé˜»å¡;   
/**   
 è®¾ç½®è°ƒè¯•æ¨¡å¼   
 @debug YES:æ‰“å°SQLè¯­å¥, NO:ä¸æ‰“å°SQLè¯­å¥.   
 */   
+(void)setDebug:(BOOL)debug;   
/**   
 åŒæ­¥å­˜å‚¨.   
 */   
-(BOOL)save;   
/**   
 @async YES:å¼‚æ­¥å­˜å‚¨,NO:åŒæ­¥å­˜å‚¨.   
 */   
-(void)saveAsync:(BOOL)async complete:(Complete_B)complete;   
/**   
 åŒæ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ.   
 */   
+(NSArray* _Nullable)findAll;   
/**   
 @async YES:å¼‚æ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ,NO:åŒæ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ.   
 */   
+(void)findAllAsync:(BOOL)async complete:(Complete_A)complete;   
/**   
 @async YES:å¼‚æ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ,NO:åŒæ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ.   
 @limit æ¯æ¬¡æŸ¥è¯¢é™åˆ¶çš„æ¡æ•°,0åˆ™æ— é™åˆ¶.   
 @desc YES:é™åºï¼ŒNO:å‡åº.   
 */   
+(void)findAllAsync:(BOOL)async limit:(NSInteger)limit orderBy:(NSString* _Nullable)orderBy desc:(BOOL)desc complete:   (Complete_A)complete;   
/**   
 @async YES:å¼‚æ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ,NO:åŒæ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ.   
 @range æŸ¥è¯¢çš„èŒƒå›´(ä»locationå¼€å§‹çš„åé¢lengthæ¡).   
 @desc YES:é™åºï¼ŒNO:å‡åº.   
 */   
+(void)findAllAsync:(BOOL)async range:(NSRange)range orderBy:(NSString* _Nullable)orderBy desc:(BOOL)desc complete:(Complete_A)complete;   
/**   
 @async YES:å¼‚æ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ,NO:åŒæ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ.   
 @where æ¡ä»¶æ•°ç»„ï¼Œå½¢å¼@[@"name",@"=",@"æ ‡å“¥",@"age",@"=>",@(25)],å³æŸ¥è¯¢name=æ ‡å“¥,age=>25çš„æ•°æ®;   
 å¯ä»¥ä¸ºnil,ä¸ºnilæ—¶æŸ¥è¯¢æ‰€æœ‰æ•°æ®;   
 ç›®å‰ä¸æ”¯æŒkeypathçš„key,å³åµŒå¥—çš„è‡ªå®šä¹‰ç±», å½¢å¼å¦‚@[@"user.name",@"=",@"ä¹ å¤§å¤§"]æš‚ä¸æ”¯æŒ.   
 */   
+(void)findAsync:(BOOL)async where:(NSArray* _Nullable)where complete:(Complete_A)complete;   
/**   
 keyPathæŸ¥è¯¢   
 @async YES:å¼‚æ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ,NO:åŒæ­¥æŸ¥è¯¢æ‰€æœ‰ç»“æœ.   
 @keyPath å½¢å¼ @"user.student.name".   
 @value å€¼,å½¢å¼ @â€œå°èŠ³â€   
 è¯´æ˜: å³æŸ¥è¯¢ user.student.name=å°èŠ³çš„å¯¹è±¡æ•°æ® (ç”¨äºåµŒå¥—çš„è‡ªå®šä¹‰ç±»)   
 */   
+(void)findAsync:(BOOL)async forKeyPath:(NSString* _Nonnull)keyPath value:(id _Nonnull)value complete:(Complete_A)complete;
/**   
 åŒæ­¥æ›´æ–°æ•°æ®.   
 @where æ¡ä»¶æ•°ç»„ï¼Œå½¢å¼@[@"name",@"=",@"æ ‡å“¥",@"age",@"=>",@(25)],å³æ›´æ–°name=æ ‡å“¥,age=>25çš„æ•°æ®;   
 å¯ä»¥ä¸ºnil,nilæ—¶æ›´æ–°æ‰€æœ‰æ•°æ®;   
 ç›®å‰ä¸æ”¯æŒkeypathçš„key,å³åµŒå¥—çš„è‡ªå®šä¹‰ç±», å½¢å¼å¦‚@[@"user.name",@"=",@"ä¹ å¤§å¤§"]æš‚ä¸æ”¯æŒ.   
 */   
-(BOOL)updateWhere:(NSArray* _Nullable)where;   
/**   
 @async YES:å¼‚æ­¥æ›´æ–°,NO:åŒæ­¥æ›´æ–°.   
 @where æ¡ä»¶æ•°ç»„ï¼Œå½¢å¼@[@"name",@"=",@"æ ‡å“¥",@"age",@"=>",@(25)],å³æ›´æ–°name=æ ‡å“¥,age=>25çš„æ•°æ®;   
 å¯ä»¥ä¸ºnil,nilæ—¶æ›´æ–°æ‰€æœ‰æ•°æ®;   
 ç›®å‰ä¸æ”¯æŒkeypathçš„key,å³åµŒå¥—çš„è‡ªå®šä¹‰ç±», å½¢å¼å¦‚@[@"user.name",@"=",@"ä¹ å¤§å¤§"]æš‚ä¸æ”¯æŒ.   
 */   
-(void)updateAsync:(BOOL)async where:(NSArray* _Nullable)where complete:(Complete_B)complete;   
/**   
 åŒæ­¥åˆ é™¤æ•°æ®.   
 @where æ¡ä»¶æ•°ç»„ï¼Œå½¢å¼@[@"name",@"=",@"æ ‡å“¥",@"age",@"=>",@(25)],å³åˆ é™¤name=æ ‡å“¥,age=>25çš„æ•°æ®.   
 ä¸å¯ä»¥ä¸ºnil;   
 ç›®å‰ä¸æ”¯æŒkeypathçš„key,å³åµŒå¥—çš„è‡ªå®šä¹‰ç±», å½¢å¼å¦‚@[@"user.name",@"=",@"ä¹ å¤§å¤§"]æš‚ä¸æ”¯æŒ   
 */   
+(BOOL)deleteWhere:(NSArray* _Nonnull)where;   
/**   
 @async YES:å¼‚æ­¥åˆ é™¤,NO:åŒæ­¥åˆ é™¤.   
 @where æ¡ä»¶æ•°ç»„ï¼Œå½¢å¼@[@"name",@"=",@"æ ‡å“¥",@"age",@"=>",@(25)],å³åˆ é™¤name=æ ‡å“¥,age=>25çš„æ•°æ®.   
 ä¸å¯ä»¥ä¸ºnil;   
 ç›®å‰ä¸æ”¯æŒkeypathçš„key,å³åµŒå¥—çš„è‡ªå®šä¹‰ç±», å½¢å¼å¦‚@[@"user.name",@"=",@"ä¹ å¤§å¤§"]æš‚ä¸æ”¯æŒ   
 */   
+(void)deleteAsync:(BOOL)async where:(NSArray* _Nonnull)where complete:(Complete_B)complete;   
/**   
 åŒæ­¥æ¸…é™¤æ‰€æœ‰æ•°æ®   
 */   
+(BOOL)clear;   
/**   
 @async YES:å¼‚æ­¥æ¸…é™¤æ‰€æœ‰æ•°æ®,NO:åŒæ­¥æ¸…é™¤æ‰€æœ‰æ•°æ®.   
 */   
+(void)clearAsync:(BOOL)async complete:(Complete_B)complete;   
/**   
 åŒæ­¥åˆ é™¤è¿™ä¸ªç±»çš„æ•°æ®è¡¨   
 */   
+(BOOL)drop;   
/**   
 @async YES:å¼‚æ­¥åˆ é™¤è¿™ä¸ªç±»çš„æ•°æ®è¡¨,NO:åŒæ­¥åˆ é™¤è¿™ä¸ªç±»çš„æ•°æ®è¡¨.   
 */   
+(void)dropAsync:(BOOL)async complete:(Complete_B)complete;   
/**   
 æŸ¥è¯¢è¯¥è¡¨ä¸­æœ‰å¤šå°‘æ¡æ•°æ®   
 @name è¡¨åç§°.   
 @where æ¡ä»¶æ•°ç»„ï¼Œå½¢å¼@[@"name",@"=",@"æ ‡å“¥",@"age",@"=>",@(25)],å³name=æ ‡å“¥,age=>25çš„æ•°æ®æœ‰å¤šå°‘æ¡,ä¸ºnilæ—¶è¿”å›å…¨éƒ¨æ•°æ®çš„æ¡æ•°.   
 */   
+(NSInteger)countWhere:(NSArray* _Nullable)where;   
/**   
 åˆ·æ–°,å½“ç±»å˜é‡åç§°æ”¹å˜æ—¶,è°ƒç”¨æ­¤æ¥å£åˆ·æ–°ä¸€ä¸‹.   
 @async YES:å¼‚æ­¥åˆ·æ–°,NO:åŒæ­¥åˆ·æ–°.   
 */   
+(void)refreshAsync:(BOOL)async complete:(Complete_I)complete;   
/**   
 å°†æŸè¡¨çš„æ•°æ®æ‹·è´ç»™å¦ä¸€ä¸ªè¡¨   
 @async YES:å¼‚æ­¥å¤åˆ¶,NO:åŒæ­¥å¤åˆ¶.   
 @destCla ç›®æ ‡ç±».   
 @keyDict æ‹·è´çš„å¯¹åº”keyé›†åˆ,å½¢å¼@{@"srcKey1":@"destKey1",@"srcKey2":@"destKey2"},å³å°†æºç±»srcClaä¸­çš„å˜é‡å€¼æ‹·è´ç»™ç›®æ ‡ç±»destClaä¸­çš„å˜é‡destKey1ï¼ŒsrcKey2å’ŒdestKey2åŒç†å¯¹åº”,ä»¥æ­¤æ¨ç±».   
 @append YES: ä¸ä¼šè¦†ç›–destClaçš„åŸæ•°æ®,åœ¨å…¶æœ«å°¾ç»§ç»­æ·»åŠ ï¼›NO: è¦†ç›–æ‰destClaåŸæ•°æ®,å³å°†åŸæ•°æ®åˆ æ‰,ç„¶åå°†æ–°æ•°æ®æ‹·è´è¿‡æ¥.   
 */   
+(void)copyAsync:(BOOL)async toClass:(__unsafe_unretained _Nonnull Class)destCla keyDict:(NSDictionary* const _Nonnull)keydict append:(BOOL)append complete:(Complete_I)complete;   
